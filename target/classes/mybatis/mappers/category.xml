<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="category">

	<select id="getList" parameterType="string" resultType="category">
	<![CDATA[
	
		select name, no
			from category
		where id = #{id}
		order by reg_date ASC;
	]]>
	
	
	</select>
	
	<select id="getListInfo" parameterType="string" resultType="category">
	<![CDATA[	
		select no, name, count(*) as count, description
			from category
		where id = #{id}
        group by name;
	]]>
	</select>
	
	<select id="getNoById" parameterType="string">
		<![CDATA[
	
		select DISTINCT(no)
			from category
		where id = #{id}
		
		]]>
	
	</select>
	
	<insert id="init" parameterType="user">
	
		<![CDATA[
	
		insert into category
			values(null, "미분류", "카테고리를 지정하지 않은 경우", now(), #{id}, "spring-logo.jpg")
		
		]]>
	
	</insert>

</mapper>

